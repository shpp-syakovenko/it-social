{"version":3,"sources":["components/Dialogs/dialogs.module.css","components/Dialogs/DialogItem/DialogItem.js","components/Dialogs/Message/Message.js","components/Dialogs/Dialogs.js","hoc/WithAuthRedirect.js","components/Dialogs/DialogsContainer.js"],"names":["module","exports","dialogs","dialogsItem","dialog","active","messagesItem","message","formAddMessage","DialogItem","_ref","name","id","react_default","a","createElement","className","s","react_router_dom","to","Message","text","maxLength","maxLengthCreator","AddMessageFormRedux","reduxForm","form","_ref2","handleSubmit","onSubmit","messageText","Field","component","Textarea","placeholder","validate","required","messageAdd","Dialogs","addMessageElement","dialogsData","map","Dialogs_DialogItem_DialogItem","key","messagesData","Dialogs_Message_Message","formData","mapStateToProps","state","isAuth","auth","DialogsContainer","connect","dispatch","value","addMessageActionCreate","withAuthRedirect","Component","wrapperComponent","_React$Component","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","apply","arguments","inherits","createClass","props","react_router","React"],"mappings":"6EACAA,EAAAC,QAAA,CAAkBC,QAAA,yBAAAC,YAAA,6BAAAC,OAAA,wBAAAC,OAAA,wBAAAC,aAAA,8BAAAC,QAAA,yBAAAC,eAAA,gICYHC,EARI,SAAAC,GAAgB,IAAdC,EAAcD,EAAdC,KAAMC,EAAQF,EAARE,GACvB,OACIC,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAEb,QACdS,EAAAC,EAAAC,cAACG,EAAA,EAAD,CAASC,GAAI,YAAcP,GAAKD,KCG7BS,EARC,SAAAV,GAAY,IAAVW,EAAUX,EAAVW,KACd,OACIR,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAEV,SACbc,qCCIPC,EAAYC,YAAiB,IAkD7BC,EAAsBC,YAAU,CAACC,KAAM,yBAAjBD,CApBL,SAAAE,GAAoB,IAAlBC,EAAkBD,EAAlBC,aACvB,OACEf,EAAAC,EAAAC,cAAA,QAAMC,UAAWC,IAAET,eAAgBqB,SAAUD,GAC3Cf,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAEa,aAChBjB,EAAAC,EAAAC,cAACgB,EAAA,EAAD,CAAOC,UAAWC,IACXC,YAAY,gBACZvB,KAAK,cACLwB,SAAU,CAACC,IAAUd,MAI9BT,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAEoB,YAChBxB,EAAAC,EAAAC,cAAA,0BAUOuB,EAjDC,SAAA5B,GAAkC,IAAhCR,EAAgCQ,EAAhCR,QAASqC,EAAuB7B,EAAvB6B,kBAMvB,OACI1B,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAEf,SACdW,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAEd,aAEVD,EAAQsC,YAAYC,IAAI,SAAArC,GAAM,OAC1BS,EAAAC,EAAAC,cAAC2B,EAAD,CAAYC,IAAKvC,EAAOQ,GAAIA,GAAIR,EAAOQ,GAAID,KAAMP,EAAOO,UAIpEE,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAEX,cAEVJ,EAAQ0C,aAAaH,IAAI,SAAAlC,GAAO,OAC5BM,EAAAC,EAAAC,cAAC8B,EAAD,CAASF,IAAKpC,EAAQK,GAAIA,GAAIL,EAAQK,GAAIS,KAAMd,EAAQA,YAGhEM,EAAAC,EAAAC,cAACS,EAAD,CAAqBK,SAnBd,SAACiB,GACpBP,EAAkBO,EAAShB,4ECZ3BiB,EAAkB,SAACC,GACnB,MAAO,CACHC,OAAQD,EAAME,KAAKD,SCcrBE,EAAmBC,YAdH,SAACJ,GACnB,MAAO,CACH9C,QAAS8C,EAAM9C,UAIE,SAACmD,GACtB,MAAO,CACHd,kBAAmB,SAACe,GAChBD,EAASE,YAAuBD,OAKnBF,CAA6Cd,GAEvDkB,UDZiB,SAACC,GAAc,IAErCC,EAFqC,SAAAC,GAAA,SAAAD,IAAA,OAAAE,OAAAC,EAAA,EAAAD,CAAAE,KAAAJ,GAAAE,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAF,GAAAO,MAAAH,KAAAI,YAAA,OAAAN,OAAAO,EAAA,EAAAP,CAAAF,EAAAC,GAAAC,OAAAQ,EAAA,EAAAR,CAAAF,EAAA,EAAAf,IAAA,SAAAW,MAAA,WAInC,OAAKQ,KAAKO,MAAMpB,OAIZpC,EAAAC,EAAAC,cAAC0C,EAAcK,KAAKO,OAHbxD,EAAAC,EAAAC,cAACuD,EAAA,EAAD,CAAUnD,GAAI,cALUuC,EAAA,CAEZa,IAAMd,WAUrC,OAAOL,YAAQL,EAARK,CAAyBM,GCArBF,CAAiBL","file":"static/js/4.62d895bb.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"dialogs_dialogs__3BpRc\",\"dialogsItem\":\"dialogs_dialogsItem__2eso7\",\"dialog\":\"dialogs_dialog__3JFFj\",\"active\":\"dialogs_active__1Vu4q\",\"messagesItem\":\"dialogs_messagesItem__2vRI1\",\"message\":\"dialogs_message__1tf-U\",\"formAddMessage\":\"dialogs_formAddMessage__bscI-\"};","import React from 'react'\r\nimport s from './../dialogs.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\nconst DialogItem = ({name, id}) => {\r\n    return(\r\n        <div className={s.dialog}>\r\n            <NavLink to={'/dialogs/' + id}>{name}</NavLink>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default DialogItem;\r\n","import React from 'react';\r\nimport s from './../dialogs.module.css';\r\n\r\nconst Message = ({text}) => {\r\n    return(\r\n        <div className={s.message}>\r\n            {text}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Message;\r\n","import React from 'react'\r\nimport s from './dialogs.module.css'\r\nimport DialogItem from \"./DialogItem/DialogItem\";\r\nimport Message from \"./Message/Message\";\r\nimport Field from \"redux-form/es/Field\";\r\nimport reduxForm from \"redux-form/es/immutable/reduxForm\";\r\nimport {Textarea} from \"../elements/FormControls/FormControls\";\r\nimport {maxLengthCreator, required} from \"../../utils/validators/validator\";\r\n\r\n\r\nconst maxLength = maxLengthCreator(30);\r\n\r\n\r\nconst Dialogs = ({dialogs, addMessageElement}) => {\r\n\r\n  const onSubmitForm = (formData) => {\r\n    addMessageElement(formData.messageText);\r\n  };\r\n\r\n    return (\r\n        <div className={s.dialogs}>\r\n            <div className={s.dialogsItem}>\r\n                {\r\n                    dialogs.dialogsData.map(dialog => (\r\n                        <DialogItem key={dialog.id} id={dialog.id} name={dialog.name}/>\r\n                    ))\r\n                }\r\n            </div>\r\n            <div className={s.messagesItem}>\r\n                {\r\n                    dialogs.messagesData.map(message => (\r\n                        <Message key={message.id} id={message.id} text={message.message}/>\r\n                    ))\r\n                }\r\n                <AddMessageFormRedux onSubmit={onSubmitForm} />\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nconst AddMessageForm = ({handleSubmit}) => {\r\n  return (\r\n    <form className={s.formAddMessage} onSubmit={handleSubmit}>\r\n      <div className={s.messageText}>\r\n        <Field component={Textarea}\r\n               placeholder='Enter text...'\r\n               name=\"messageText\"\r\n               validate={[required, maxLength]}\r\n        />\r\n\r\n      </div>\r\n      <div className={s.messageAdd}>\r\n        <button >\r\n          Send\r\n        </button>\r\n      </div>\r\n    </form>\r\n  )\r\n};\r\n\r\nconst AddMessageFormRedux = reduxForm({form: \"dialogsAddMessageForm\"})(AddMessageForm);\r\n\r\nexport default Dialogs;\r\n","import React from 'react';\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n};\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n    class wrapperComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) {\r\n                return <Redirect to={'login'}/>\r\n            }\r\n            return (\r\n                <Component {...this.props} />\r\n            )\r\n        }\r\n    }\r\n    return connect(mapStateToProps)(wrapperComponent);\r\n};\r\n\r\n/*\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n    let wrapperComponent = (props) => {\r\n        console.log(props);\r\n\r\n            if (!props.isAuth) {\r\n                return <Redirect to={'login'}/>\r\n            }\r\n            return (\r\n                <Component {...this.props} />\r\n            )};\r\n    return wrapperComponent;\r\n};\r\n*/\r\n","import {connect} from \"react-redux\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport {addMessageActionCreate} from \"../../redux/dialogsReducer\";\r\nimport {withAuthRedirect} from \"../../hoc/WithAuthRedirect\";\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        dialogs: state.dialogs,\r\n    }\r\n};\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addMessageElement: (value) => {\r\n            dispatch(addMessageActionCreate(value));\r\n        }\r\n    }\r\n};\r\n\r\nconst DialogsContainer = connect(mapStateToProps, mapDispatchToProps)(Dialogs);\r\n\r\nexport default withAuthRedirect(DialogsContainer);\r\n"],"sourceRoot":""}