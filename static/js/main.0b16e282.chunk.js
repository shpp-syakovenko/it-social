(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,t,n){e.exports={header:"header_header__2_gZl",logoBlock:"header_logoBlock__3GhSm"}},105:function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"d",function(){return m}),n.d(t,"c",function(){return p}),n.d(t,"e",function(){return d});var a=n(7),r=n.n(a),o=n(19),u=n(36),c=n(8),i=n(21),s={postData:[{id:0,message:"Hello world!!!",like:3},{id:1,message:"First post!",like:7},{id:2,message:"Second post",like:2}],profile:null,status:""},l=function(e){return{type:"ADD-POST",value:e}},f=function(e){return{type:"SET_STATUS",status:e}},m=function(e){return function(){var t=Object(o.a)(r.a.mark(function t(n){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.b.getProfile(e);case 2:a=t.sent,n({type:"SET_USER_PROFILE",profile:a.data});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(o.a)(r.a.mark(function t(n){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.b.getStatus(e);case 2:a=t.sent,n(f(a.data));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},d=function(e){return function(){var t=Object(o.a)(r.a.mark(function t(n){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.b.updateStatus(e);case 2:0===t.sent.data.resultCode&&n(f(e));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":return Object(c.a)({},e,{postData:[].concat(Object(u.a)(e.postData),[{id:e.postData.length,message:t.value,like:10}])});case"SET_USER_PROFILE":return Object(c.a)({},e,{profile:t.profile});case"SET_STATUS":return Object(c.a)({},e,{status:t.status});case"DELETE_POST":return Object(c.a)({},e,{postData:e.postData.filter(function(e){return e.id!==t.id})});default:return e}}},116:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var a=n(36),r=n(8),o={dialogsData:[{id:0,name:"Dima"},{id:1,name:"Sergey"},{id:2,name:"Roma"},{id:3,name:"Igor"}],messagesData:[{id:0,message:"Hello world!!!"},{id:1,message:"My name is Sergey."},{id:2,message:"Do you have time."},{id:3,message:"I like Ukraine."}]},u=function(e){return{type:"ADD-MESSAGE",value:e}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-MESSAGE":return Object(r.a)({},e,{messagesData:[].concat(Object(a.a)(e.messagesData),[{id:e.messagesData.length,message:t.value}])});default:return e}}},128:function(e,t,n){e.exports=n.p+"static/media/avatar.6ddf4314.jpeg"},147:function(e,t,n){e.exports={preloder:"preloader_preloder__vc2Jq"}},149:function(e,t,n){e.exports=n.p+"static/media/logo.6fcc76cf.png"},150:function(e,t,n){e.exports={formError:"login_formError__2FDKo"}},16:function(e,t,n){e.exports={users:"users_users__2Bg8k",user:"users_user__3rnnS",avatar:"users_avatar__lcuF1",description:"users_description__1cBk2",leftDesc:"users_leftDesc__2GRuV",status:"users_status__MHMzj",rightDesc:"users_rightDesc__18c-F",country:"users_country__1Tiew",pagin:"users_pagin__2hbPm",active:"users_active__2cRgf"}},177:function(e,t,n){e.exports=n(305)},21:function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"b",function(){return u}),n.d(t,"a",function(){return c});var a=n(141),r=a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"6e2da73b-5e08-47b2-87ee-59fed946b855"}}),o={getUsers:function(e,t){return r.get("users?page=".concat(e,"&count=").concat(t)).then(function(e){return e.data})},follow:function(e){return r.post("follow/".concat(e),{},{})},unfollow:function(e){return r.delete("follow/".concat(e))},getProfile:function(e){return console.warn("You use obsolete method, Please use profileAPI.getProfile()"),u.getProfile(e)}},u={getProfile:function(e){return r.get("profile/".concat(e))},getStatus:function(e){return r.get("profile/status/".concat(e))},updateStatus:function(e){return r.put("profile/status",{status:e})}},c={authMe:function(){return r.get("auth/me")},login:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r.post("auth/login",{email:e,password:t,rememberMe:n})},logout:function(){return r.delete("auth/login")}}},260:function(e,t,n){},305:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(9),u=n(105),c=n(116),i={},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;arguments.length>1&&arguments[1];return e},l=n(7),f=n.n(l),m=n(19),p=n(36),d=n(8),g=n(21),h=function(e,t,n,a){return e.map(function(e){return e[n]===t?Object(d.a)({},e,a):e})},E={users:[],pageSize:20,totalUsersCount:1,currentPage:1,isFetching:!1,followingProgress:[]},v=function(e){return{type:"FOLLOW",userId:e}},b=function(e){return{type:"UNFOLLOW",userId:e}},O=function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},_=function(e){return{type:"TOGGLE_LOADER",isFetching:e}},w=function(e,t){return{type:"FOLLOWING_PROGRESS",isFetching:e,userId:t}},S=function(){var e=Object(m.a)(f.a.mark(function e(t,n,a,r){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n(w(!0,t)),e.next=3,r(t);case 3:0===e.sent.data.resultCode&&n(a(t)),n(w(!1,t));case 6:case"end":return e.stop()}},e)}));return function(t,n,a,r){return e.apply(this,arguments)}}(),j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(d.a)({},e,{users:h(e.users,t.userId,"id",{followed:!0})});case"UNFOLLOW":return Object(d.a)({},e,{users:h(e.users,t.userId,"id",{followed:!1})});case"SET_USERS":return Object(d.a)({},e,{users:Object(p.a)(t.users)});case"SET_CURRENT_PAGE":return Object(d.a)({},e,{currentPage:t.currentPage});case"TOTAL_USERS_COUNT":return Object(d.a)({},e,{totalUsersCount:t.totalCount});case"TOGGLE_LOADER":return Object(d.a)({},e,{isFetching:t.isFetching});case"FOLLOWING_PROGRESS":return Object(d.a)({},e,{followingProgress:t.isFetching?[].concat(Object(p.a)(e.followingProgress),[t.userId]):e.followingProgress.filter(function(e){return e!==t.userId})});default:return e}},y=n(99),P={id:null,email:null,login:null,isAuth:!1},C=function(e,t,n,a){return{type:"SET_USER_DATA",payload:{id:e,email:t,login:n,isAuth:a}}},N=function(){return function(){var e=Object(m.a)(f.a.mark(function e(t){var n,a,r,o,u;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.authMe();case 2:0===(n=e.sent).data.resultCode&&(a=n.data.data,r=a.id,o=a.email,u=a.login,t(C(r,o,u,!0)));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},k=function(){return function(){var e=Object(m.a)(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.logout();case 2:0===e.sent.data.resultCode&&t(C(null,null,null,!1));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DATA":return Object(d.a)({},e,t.payload);default:return e}},D=n(142),T=n(140),U={initialization:!1},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U;switch((arguments.length>1?arguments[1]:void 0).type){case"INITIALIZATION_SUCCESS":return Object(d.a)({},e,{initialization:!0});default:return e}},I=Object(o.c)({profilePage:u.b,dialogs:c.b,sideBar:s,usersPage:j,auth:A,form:T.a,app:x}),F=Object(o.e)(I,Object(o.a)(D.a));window.store=F;var L=F,R=n(68),z=n(39),M=n(40),G=n(43),B=n(41),W=n(44),H=(n(260),n(33)),J=n.n(H),K=n(13),Z=function(){return r.a.createElement("div",{className:J.a.side_bar},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(K.b,{activeClassName:J.a.active,to:"/profile"},"Profile")),r.a.createElement("li",null,r.a.createElement(K.b,{activeClassName:J.a.active,to:"/dialogs"},"Messages")),r.a.createElement("li",null,r.a.createElement(K.b,{activeClassName:J.a.active,to:"/news"},"News")),r.a.createElement("li",null,r.a.createElement(K.b,{activeClassName:J.a.active,to:"/music"},"Music")),r.a.createElement("li",null,r.a.createElement(K.b,{activeClassName:J.a.active,to:"/settings"},"Settings")),r.a.createElement("li",null,r.a.createElement(K.b,{activeClassName:J.a.active,to:"/users"},"Users"))))},Y=function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("h2",null,"Footer"))},q=function(){return r.a.createElement("div",null,"News")},V=n(32),Q=function(){return r.a.createElement("div",null,"Music")},X=function(){return r.a.createElement("div",null,"Settings")},$=n(29),ee=n(16),te=n.n(ee),ne=n(128),ae=n.n(ne),re=function(e){var t=e.user,n=e.followingProgress,a=e.unfollow,o=e.follow;return r.a.createElement("div",{key:t.id,className:te.a.user},r.a.createElement("div",{className:te.a.avatar},r.a.createElement(K.b,{to:"profile/"+t.id},r.a.createElement("img",{src:null!==t.photos.small?t.photos.small:ae.a,alt:"avatar"})),t.followed?r.a.createElement("button",{disabled:n.some(function(e){return e===t.id}),onClick:function(){return a(t.id)}},"unfollow"):r.a.createElement("button",{disabled:n.some(function(e){return e===t.id}),onClick:function(){return o(t.id)}},"follow")),r.a.createElement("div",{className:te.a.description},r.a.createElement("div",{className:te.a.leftDesc},r.a.createElement("div",{className:te.a.fullName},t.name),r.a.createElement("div",{className:te.a.status},t.status)),r.a.createElement("div",{className:te.a.rightDesc},r.a.createElement("div",{className:te.a.country},"user.location.country"),r.a.createElement("div",{className:te.a.city},"user.location.city"))))},oe=n(146),ue=n.n(oe),ce=function(e){var t=e.pageSize,n=e.totalUsersCount,a=e.onPageChange,o=e.currentPage,u=e.users,c=e.unfollow,i=e.follow,s=e.followingProgress;return r.a.createElement("div",{className:te.a.users},r.a.createElement("h2",null,"Users"),r.a.createElement(ue.a,{activePage:o,itemsCountPerPage:t,totalItemsCount:n,pageRangeDisplayed:10,onChange:a,innerClass:te.a.pagin,activeClass:te.a.active}),u.map(function(e){return r.a.createElement(re,{key:e.id,user:e,followingProgress:s,unfollow:c,follow:i})}))},ie=n(72),se=n(148),le=Object(se.a)(function(e){return e.usersPage.users},function(e){return e.filter(function(e){return!0})}),fe=function(e){return e.usersPage.pageSize},me=function(e){return e.usersPage.totalUsersCount},pe=function(e){return e.usersPage.currentPage},de=function(e){return e.usersPage.isFetching},ge=function(e){return e.usersPage.followingProgress},he=function(e){function t(){var e,n;Object(z.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(G.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(r)))).onPageChange=function(e){var t=n.props,a=t.pageSize;(0,t.getUsersCurrentPage)(e,a)},n}return Object(W.a)(t,e),Object(M.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.currentPage,n=e.pageSize;(0,e.getUsersCurrentPage)(t,n)}},{key:"render",value:function(){var e=this.props,t=e.follow,n=e.unfollow,a=e.users,o=e.pageSize,u=e.totalUsersCount,c=e.currentPage,i=e.isFetching,s=e.followingProgress;return r.a.createElement(r.a.Fragment,null,i?r.a.createElement(ie.a,null):null,r.a.createElement(ce,{pageSize:o,totalUsersCount:u,onPageChange:this.onPageChange,currentPage:c,users:a,unfollow:n,follow:t,followingProgress:s}))}}]),t}(r.a.Component),Ee=Object($.a)(function(e){return{users:le(e),pageSize:fe(e),totalUsersCount:me(e),currentPage:pe(e),isFetching:de(e),followingProgress:ge(e)}},{follow:function(e){return function(){var t=Object(m.a)(f.a.mark(function t(n){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:S(e,n,v,g.c.follow);case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object(m.a)(f.a.mark(function t(n){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:S(e,n,b,g.c.unfollow);case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},getUsersCurrentPage:function(e,t){return function(){var n=Object(m.a)(f.a.mark(function n(a){var r;return f.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a(_(!0)),n.next=3,g.c.getUsers(e,t);case 3:r=n.sent,a(O(e)),a({type:"TOTAL_USERS_COUNT",totalCount:r.totalCount}),a({type:"SET_USERS",users:r.items}),a(_(!1));case 8:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()}})(he),ve=n(149),be=n.n(ve),Oe=n(102),_e=n.n(Oe),we=function(e){var t=e.isAuth,n=e.login,a=e.logout;return r.a.createElement("div",{className:_e.a.header},r.a.createElement("img",{src:be.a,alt:"logo"}),r.a.createElement("div",{className:_e.a.logoBlock},t?r.a.createElement("div",null,n," ",r.a.createElement("button",{onClick:a},"logout")," "):r.a.createElement(K.b,{to:"/login"},"Login")))},Se=function(e){function t(){return Object(z.a)(this,t),Object(G.a)(this,Object(B.a)(t).apply(this,arguments))}return Object(W.a)(t,e),Object(M.a)(t,[{key:"render",value:function(){return r.a.createElement(we,{isAuth:this.props.isAuth,login:this.props.login,logout:this.props.logout})}}]),t}(r.a.Component),je=Object($.a)(function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}},{logout:k})(Se),ye=n(106),Pe=n(42),Ce=n(73),Ne=n(74),ke=n(45),Ae=n(150),De=n.n(Ae),Te=Object(Ne.a)(20),Ue=Object(ye.a)({form:"login"})(function(e){var t=e.handleSubmit,n=e.error;return r.a.createElement("form",{onSubmit:t},r.a.createElement("div",null,r.a.createElement(Pe.a,{component:Ce.a,type:"text",name:"email",placeholder:"email",validate:[Ne.b,Te]})),r.a.createElement("div",null,r.a.createElement(Pe.a,{component:Ce.a,type:"text",name:"password",placeholder:"Password",validate:[Ne.b,Te]})),r.a.createElement("div",null,r.a.createElement(Pe.a,{component:Ce.a,type:"checkbox",name:"rememberMe"})," remember me"),n?r.a.createElement("div",{className:De.a.formError},n):"",r.a.createElement("div",null,r.a.createElement("button",null,"Send")))}),xe=Object(ke.a)(function(e){return{isAuth:e.auth.isAuth}},{login:function(e,t,n){return function(){var a=Object(m.a)(f.a.mark(function a(r){return f.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,g.a.login(e,t,n);case 2:0===a.sent.data.resultCode?r(N()):r(Object(y.a)("login",{_error:"\u0412\u044b \u0432\u0432\u0435\u043b\u0438 \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c \u0438\u043b\u0438 email"}));case 4:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()},logout:k})(function(e){var t=e.login;if(e.isAuth)return r.a.createElement(V.a,{to:"/profile"});return r.a.createElement("div",null,r.a.createElement("h1",null,"Login"),r.a.createElement(Ue,{onSubmit:function(e){t(e.email,e.password,e.rememberMe)}}))}),Ie=function(e){return function(t){return r.a.createElement(a.Suspense,{fallback:r.a.createElement("div",null,"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...")},r.a.createElement(e,t))}},Fe=r.a.lazy(function(){return n.e(4).then(n.bind(null,310))}),Le=r.a.lazy(function(){return n.e(3).then(n.bind(null,309))}),Re=function(e){function t(){return Object(z.a)(this,t),Object(G.a)(this,Object(B.a)(t).apply(this,arguments))}return Object(W.a)(t,e),Object(M.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.initialize)()}},{key:"render",value:function(){return this.props.initialization?r.a.createElement("div",{className:"app-wrapper"},r.a.createElement(je,null),r.a.createElement(Z,null),r.a.createElement("div",{className:"app-wrapper-content"},r.a.createElement(V.b,{path:"/profile/:userId?",render:Ie(Le)}),r.a.createElement(V.b,{path:"/dialogs",render:Ie(Fe)}),r.a.createElement(V.b,{path:"/news",component:q}),r.a.createElement(V.b,{path:"/music",component:Q}),r.a.createElement(V.b,{path:"/settings",component:X}),r.a.createElement(V.b,{path:"/users",render:function(){return r.a.createElement(Ee,null)}}),r.a.createElement(V.b,{path:"/login",render:function(){return r.a.createElement(xe,null)}})),r.a.createElement(Y,null)):r.a.createElement(ie.a,null)}}]),t}(a.Component),ze=Object(V.f)(Object(ke.a)(function(e){return{initialization:e.app.initialization}},{initialize:function(){return function(e){var t=e(N());Promise.all([t]).then(function(){e({type:"INITIALIZATION_SUCCESS"})})}}})(Re)),Me=n(70);Object(R.render)(r.a.createElement(K.a,null,r.a.createElement(Me.a,{store:L},r.a.createElement(ze,null))),document.getElementById("root"))},33:function(e,t,n){e.exports={side_bar:"sidebar_side_bar__m6jCf",active:"sidebar_active__yctEh"}},58:function(e,t,n){e.exports={formControl:"FormControl_formControl__1CaHA",error:"FormControl_error__1dKmU"}},72:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(147),u=n.n(o);t.a=function(){return r.a.createElement("img",{className:u.a.preloder,src:"http://slinky.me/uploads/pic/8/slinky_me_55df123c2a493.gif",alt:"pleloder"})}},73:function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return i});var a=n(0),r=n.n(a),o=n(58),u=n.n(o),c=function(e){var t=e.input,n=e.meta,a=n.touched,o=n.error,c=e.label,i=a&&o;return r.a.createElement("div",{className:"".concat(u.a.formControl," ").concat(i?u.a.error:"")},r.a.createElement("textarea",Object.assign({},t,{placeholder:c})),i&&r.a.createElement("span",null,o))},i=function(e){var t=e.input,n=e.type,a=e.meta,o=a.touched,c=a.error,i=e.label,s=o&&c;return r.a.createElement("div",{className:"".concat(u.a.formControl," ").concat(s?u.a.error:"")},r.a.createElement("input",Object.assign({},t,{placeholder:i,type:n})),s&&r.a.createElement("span",null,c))}},74:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return r});var a=function(e){if(!e)return"Error Filed"},r=function(e){return function(t){if(t.length>e)return"Max length more ".concat(e)}}}},[[177,1,2]]]);
//# sourceMappingURL=main.0b16e282.chunk.js.map